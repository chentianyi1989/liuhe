"use strict";!function(t){function e(){}var a="";e.prototype={init:function(){this.footer(),this.tab(),this.headMenu(),this.tabPage(),this.other(),this.more(),this.gotoPc(),this.imageCase(),this.getPageFormData();var t=this.getusercookieValue(),e=window.location.href;t[0]>0?this.getHead(t,e):($(".user-info .flcons").html('<div class="fl"><i class="iconfont icon-my-select" style="font-size: 36px;"></i></div><span style="margin-left: 15px;line-height: 50px;" class="fl"><a href="//m.dyrs.com.cn/user/login?backurl='+e+'">登录</a></span>'),$(".user-info .frcons").html('<a href="//m.dyrs.com.cn/user/register?backurl='+e+'">注册即送<span class="text-primary">1000元装修券</span></a>'))},footer:function(){var t=$("footer .footer").outerHeight();$("footer").height(t)},gotoPc:function(){$('.footer .text-title').click(function(){$.cookie('urlRule',1,{domain:"dyrs.com.cn"})})},getHead:function(t,e){$.ajax({url:'/api/user/user.php?action=logo',type:'get',success:function(o){a=o.data,$(".user-info .flcons").html('<div class="lazy fl"><a href="//m.dyrs.com.cn/home"><img src='+a+' class="lazy_img auto" style="width:40px;height:40px;"></a></div><span style="margin-left: 15px;line-height: 50px;" class="fl">'+t[1]+'</span>'),$(".user-info .frcons").html('<span class="login-out text-primary"><a href="/user/user_loginout.php?backurl='+e+'">[退出]</a></span>')}})},getPageFormData:function(){var t=this;$('[data-formValidate]').each(function(e,a){var o=$(a).attr('id'),n=$(a).data('formvalidate');o&&t.v({id:o,errorType:n,callback:function(e,a){t.formSubmit(e,a,function(t){})}})})},imageCase:function(){if($('[data-imageList]').length>0){var t=this,e=$(document.body).width()-30,a=(e-0-10)/2;t.msg||(t.msg={height:[0,0],images:[],imgs:{left:[],right:[]}}),$('[data-scale]').each(function(e,o){var n=Number($(o).data('scale')),i=a/n+32+10;$(o).data('height',i);var s=null;if(t.msg.height[0]>t.msg.height[1]){var r=10+a,l=t.msg.height[1];t.msg.height[1]+=i,s={big:'default',small:'default',width:a,height:a/n,top:l,left:r,text:'default',isFavou:'default',lastFavou:'default',totalHeight:i},t.msg.imgs.right.push(s),$(o).css({width:a,height:i-10,top:l,left:r}),$(o).find('.lazy').css({width:a,height:a/n})}else r=0,l=t.msg.height[0],t.msg.height[0]+=i,s={big:'default',small:'default',width:a,height:a/n,top:l,left:r,text:'default',lastFavou:'default',totalHeight:i},t.msg.imgs.left.push(s),$(o).css({width:a,height:i-10,top:l,left:r}),$(o).find('.lazy').css({width:a,height:a/n})}),$('[data-imageList]').height(t.msg.height[0]>t.msg.height[1]?t.msg.height[0]:t.msg.height[1]),'onImageCaseComplated'in this&&($('[data-imageList]').parent().append($('<div id="loadState"></div>')),this.onImageCaseComplated())}},utf8_decode:function(t){var e=[],a=0,o=0,n=0,i=0,s=0;for(t+='';a<t.length;)n=t.charCodeAt(a),n<128?(e[o++]=String.fromCharCode(n),a++):n>191&&n<224?(i=t.charCodeAt(a+1),e[o++]=String.fromCharCode((31&n)<<6|63&i),a+=2):(i=t.charCodeAt(a+1),s=t.charCodeAt(a+2),e[o++]=String.fromCharCode((15&n)<<12|(63&i)<<6|63&s),a+=3);return e.join('')},base64decode_user:function(t){var e,a,o,n,i,s,r,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,h=0,u="",f=[];if(!t)return t;for(t+='';d<t.length;)n=c.indexOf(t.charAt(d++)),i=c.indexOf(t.charAt(d++)),s=c.indexOf(t.charAt(d++)),r=c.indexOf(t.charAt(d++)),l=n<<18|i<<12|s<<6|r,e=l>>16&255,a=l>>8&255,o=255&l,f[h++]=64==s?String.fromCharCode(e):64==r?String.fromCharCode(e,a):String.fromCharCode(e,a,o);return u=f.join(''),u=this.utf8_decode(u)},readck:function(t){var e="",a=t+"=";if(document.cookie.length>0){var o=document.cookie.indexOf(a);if(-1!=o){o+=a.length;var n=document.cookie.indexOf(";",o);-1==n&&(n=document.cookie.length),e=unescape(document.cookie.substring(o,n))}}return e},getusercookieValue:function(){var t=this.readck('dyrs_userinfo');return this.base64decode_user(t).split("\t")},reachBottom:function(t){var e=!0,a={template:'',html:'',url:'',type:'get',loadData:{page:2,page_size:10,start_num:0,is_over:!1},ajaxComplate:""};a=Object.assign(a,t);var o=this,n=$('#wrapper');0==$('#loadState').length||$('#loadState').hasClass('loadend')||$(window).on('scroll',function(){if(!n.is(':hidden')&&($(window).scrollTop()+$(window).height()>=$(document).height()-500||$(window).height()>=$(document).height())){if($('#loadState').hasClass('loadend'))return;e&&(e=!1,$.ajax({url:a.url,type:a.type,data:a.loadData,success:function(t){if(1!=t.status)return void layer.open({content:t.msg||'请求失败',time:1.5});if(e=!0,a.ajaxComplate.constructor==Function){var n=a.ajaxComplate(t,{url:a.url,template:a.template,html:a.html});''!=n&&'{Template Error}'!=n||(e=!1)}else{var i=template(a.template,t);$(a.html).append(i)}'undefined'!=typeof collect_type&&o.collectionList(collect_type),a.loadData.page++,a.loadData.page>totalPage&&$('#loadState').addClass('loadend'),$('.lazy_img').lazyload(var_lazy),$(window).scroll(),$(document).trigger('pageIsLoad')},error:function(){layer.open({content:'网络请求不正确',time:1.5})}}))}}).scroll()},more:function(){$('[data-detailText]').click(function(){$(this).find(".iconfont").hasClass("icon-down-trangle")?($(this).find(".iconfont").removeClass("icon-down-trangle").addClass("icon-down-trangle-copy-copy"),$(".common-detail").css("height","70px")):($(this).find(".iconfont").removeClass("icon-down-trangle-copy-copy").addClass("icon-down-trangle"),$(".common-detail").css("height","auto"))})},yuyue:function(t){$(".yy_btn").on("click",function(){var e=$.trim($('.yy_phone').val());if(""==e)return void layer.open({content:'手机号码不能为空！',time:1.5});if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(e))return void layer.open({content:'手机号码格式不正确！',time:1.5});var a=$.extend(t,{'phone':e}),o=layer.open({type:2,shadeClose:!1,shade:'background-color: rgba(0,0,0,.2)'});$.ajax({url:'/api/user/appoint.php',type:'post',data:a,success:function(t){layer.close(o),layer.open({content:t.description||'提交成功',time:1.5}),$('.yy_phone').val('')}})})},other:function(){var t=this,e={buttons:['close'],titleShow:!0,arrows:!1,animationDuration:200,transitionDuration:200,hash:!1,infobar:!1,slideShow:{autoStart:!0,speed:4e3},beforeClose:function(){location.hash=''},afterShow:function(e,a){location.hash='pic'+a.opts.id;var o=a.index;if(o>1){(new Image).src=e.group[o-1].src}if(o<e.group.length-1){(new Image).src=e.group[o+1].src}e.group.length-o<5&&"fancyBoxEnd"in t&&t.fancyBoxEnd(e,a),'undefined'!=typeof fancyboxsAfter&&fancyboxsAfter(e,a)},btnTpl:{close:"<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\"><i class='iconfont icon-fanhui'></i></svg></button>"}};'undefined'!=typeof fancyboxs&&fancyboxs(e);var a=location.href.indexOf('/pic'),o=location.hash.match(/\d+/),n=null;a&&o&&($('.photo-lists a').each(function(){$(this).data('id')==o[0]&&(n=!0,$(this).click())}),n||$.ajax({url:'/api/pic/info',data:{pic_id:o[0]},success:function(t){$('.photo-lists').prepend(template('module',t)),$('img.lazy_not').lazyload(var_lazy),$(window).scroll(),$('.photo-lists li').eq(0).find('a').click()}}))},yuyueLayer:function(t,e){var a=$(window).scrollTop(),o="\n                <div class=\"yuyueLayer\" id=\"yuyueLayer\">\n                    <div class=\"head\">\n                        <em class=\"public_meun\" id=\"closeYuyue\">\n                            <i></i>\n                            <i></i>\n                            <i></i>\n                        </em>\n                    </div>\n                    <div class=\"yuyue bg-white over pdl20 pdr20 pdb50\" style=\"margin:.3rem;\">\n                        <form action=\"/api/user/appoint.php?"+e+"\" method=\"get\" id=\"yuyueFormT\">\n                            <div class=\"tit f22 tc mt30\">"+t+"</div>\n                            <p class=\"f12 tc mt5 text-sub\">优质家装服务&nbsp;&nbsp;打造美好舒适的家</p>\n                            <div class=\"input mt30\">\n                                <input type=\"text\" placeholder=\"称呼\" name=\"name\" validate=\"required\" autocomplete=\"off\">\n                            </div>\n                            <div class=\"input mt15\">\n                                <input type=\"text\" placeholder=\"电话\" name=\"phone\" maxlength=\"11\" validate=\"required|phone\" autocomplete=\"off\">\n                            </div>\n                            <button class=\"btn full-w btn-large mt15\" type=\"submit\">提交</button>\n                        </form>\n                    </div>\n                </div>";0==$('#yuyueLayer').length&&($('body').append(o),$('#closeYuyue').click(function(){$('#closeYuyue').removeClass('on'),$('#wrapper').show(),$(window).scrollTop(a),$('#yuyueLayer').hide()}),this.v({id:'yuyueFormT',callback:function(t,e){page.formSubmit(t,e,function(t){$('#closeYuyue').click()})}})),$('#wrapper').hide(),$('#yuyueLayer').show(),setTimeout(function(){$('#closeYuyue').addClass('on')},1)},tabPage:function(){var t=0;$('[data-check]').click(function(){$(this).toggleClass('active').siblings().removeClass('active');var e=$(this).data('check');$(this).hasClass('active')?($('[data-tabPage]').slideUp(150),$('[data-tabPage="'+e+'"]').slideDown(150),$('#wrapper').slideUp(150),t=$(document).scrollTop(),$(document).scrollTop(0)):($('[data-tabPage]').slideUp(150),$('#wrapper').slideDown(150,function(){$(document).scrollTop(t)}))}),$('[data-v]').click(function(){var t=$(this).data('v'),e='<span>'+$(this).text()+'</span>';0==t&&(e=$('[data-check].active').data('default')),e+='<i class="iconfont"></i>',$(document).trigger('diff-tab',[{value:t,inner:e}]),$('[data-check].active').html(e),$('[data-check]').removeClass('active'),$('[data-tabPage]').slideUp(150)})},headMenu:function(){var t=0,e=$('#wrapper'),a=$('#navLayer'),o=$('#curCity');$('#navBtn').click(function(){var o=$(this);o.hasClass('on')?(o.removeClass('on'),e.show(),$(window).scrollTop(t),a.hide(),$('body').removeClass('bg-white')):(t=$(window).scrollTop(),e.hide(),a.show(),$(this).addClass('on'),$(window).scroll(),$('body').addClass('bg-white'))}),$('#location').length||$('body').append('<div id="location" style="display:none;"></div>');var n=$('#location');o.click(function(){n.children('.location').length||n.load('/common/location.php'),t=$(window).scrollTop(),$('#navBtn').hasClass('on')&&$('#navBtn').click(),e.hide(),$('#navBtn').parents('.head').hide(),n.show()}),n.on('click','.backRouter',function(){n.hide(),e.show(),$('#navBtn').parents('.head').show(),$(window).scrollTop(t)}),$('.head').hasClass('transparent')&&$(window).scroll(function(){$(window).scrollTop()>50?$('.head').removeClass('transparent'):$('.head').addClass('transparent')}),$('#public_search_input').on('click','.search_select',function(){$('.select_list_body').show()}).on('click','.select_list_body',function(){$(this).hide()}).on('click','.public_share',function(){}),$('#public_search_input').on('click','.search_select_list span',function(){$('.search_select i.selected').html($(this).html()),$('input#word').focus(),$('#search_select').val($(this).attr('data-action')),$('section.search_hot div').stop().hide().eq($(this).index()).fadeIn();var t=$('#'+$(this).attr('data-action')+'_id');$('.search-page ul').hide(),t.length?(t.show(),$('.search-page div').eq(0).show()):$('.search-page div').eq(0).hide()});var i=$('.search_select i.selected').html();$('.search_select_list span').each(function(t,e){if($(this).html()==i)return $('section.search_hot div').stop().hide().eq(t).fadeIn(),!1}),$('#public_search_input').submit(function(t){''==$.trim($('#word').val())&&t.preventDefault()})},fastNav:function(t){($('#location-province').length?$('#location-province'):$('#location')).scrollTop($('dt.'+t).position().top+10),$('.fast-nav a:contains('+t+')').addClass('active').siblings().removeClass('active'),setTimeout(function(){$('.fast-nav a').removeClass('active')},400)},openShare:function(){layer.open({content:"<div class=\"my-share-box\">                <a href=\"javascript:page.share('sina')\" class=\"iconfont icon-weibo\" style=\"background:#e5493a\"></a>                <a href=\"javascript:page.share('qzone')\" class=\"iconfont icon-qzone\" style=\"background:#ffce00\"></a>                <a href=\"javascript:page.share('qq')\" class=\"iconfont icon-qq1\" style=\"background:#38a9e5\"></a>            </div>",btn:['取消'],skin:'footer'})},share:function(t){var e={title:document.title,url:location.href};switch(t){case'sina':window.open('http://service.weibo.com/share/share.php?title='+e.title+'&url='+e.url+'&searchPic=true');break;case'qzone':window.open('http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title='+e.title+'&url='+e.url+'&searchPic=true');break;case'qq':window.open('http://connect.qq.com/widget/shareqq/index.html?title='+e.title+'&url='+e.url+'&searchPic=true')}},urlParams:function(){var t=window.location.search.substring(1),e={};return t&&$.each(t.split('&'),function(t,a){var o=a.split('=');e[o[0]]=o[1]}),e},tab:function(){$('.tab-tit').on('click','span',function(){var t=$(this),e=t.index();t.addClass('active').siblings().removeClass('active'),t.parents('.tab-tit').siblings('.tab-layer').children('div').eq(e).siblings().hide().end().show(),$(window).scroll()})},scrollFire:function(t){function e(){var e=a.scrollTop(),i=a.height();$.each(n,function(a,n){var s=o.eq(a);n-t.offset<e+i&&s.height()+n+t.offset>e&&(s.addClass(t.active),t.fn&&t.fn(s))})}var a=$(window),o=$(t.dom),n=[];o.each(function(t,e){n.push($(e).offset().top)}),e(),a.scroll(e),a.resize(e)},v:function(t){var e=t.id?t.id:'bottomBar',a='layer'==t.errorType?t.errorType:'none',o=$('#'+e);o.submit(function(e){e.preventDefault(),$(this).validate({isone:!0,validate:{pwd:function(t){if(t.val().length<6||t.val().length>20)return _error(t,'pwd'),!1}},messages:{pwd:'请设置6~20位'},error:function(t,e){if('none'!=a){var o=t.attr('placeholder').replace('请输入','')+e;return void layer.open({content:o||'输入内容不符合要求',time:1.5})}t.addClass('error'),t.one('focus',function(){$(this).removeClass('error'),$(this).next('.error').remove()});var o=t.attr('placeholder').replace('请输入','')+e;t.next('.error').remove(),t.parent().append('<div class="error">'+o+'</div>')}})&&t.callback&&t.callback(o,o.serializeArray())})},formSubmit:function(t,e,a){var o=t.attr('method'),n=t.attr('data-type'),i=layer.open({type:2,shadeClose:!1,shade:'background-color: rgba(0,0,0,.2)'});$.ajax({url:$(t[0]).attr('action')?t[0].action:'/api/user/appoint.php',dataType:n||'json',type:o||'get',data:e,success:function(e){t[0].reset(),layer.close(i),layer.open({content:e.description||'提交成功',time:1.5}),'function'==typeof a&&a(e)},error:function(){layer.close(i),layer.open({content:'接口异常',time:1.5})}})},codeCountdown:function(t){function e(){o>0?(t.disabled=!0,$(t).addClass('disabled'),t.innerHTML='倒计时'+o--+'秒',setTimeout(e,1e3)):(t.disabled=!1,t.innerHTML=a,$(t).removeClass('disabled'))}var a=t.innerHTML,o=60;e()},countdown:function(t){!function(){function e(t){return t<10?'0'+t:t}var a=null,o=new Date(t.date),n=new Date,i=Math.floor((o-n)/1e3);if(i<=0)return clearTimeout(a),void t.obj.html(t.txt).parents('.count').addClass('pass');var s=Math.floor(i/86400),r=Math.floor((i-24*s*3600)/3600),l=Math.floor(i/60-(24*s*60+60*r)),c=i%60,d='<span class="pdl2 pdr2 f9">'+e(s)+'</span><span class="pdl2 pdr2 f9">'+e(r)+'</span><span class="pdl2 pdr2 f9">'+e(l)+'</span><span class="pdl2 pdr2 f9">'+e(c)+'</span>';t.obj.html(d),a=setTimeout(function(){page.countdown(t)},1e3)}()},collectionList:function(t){var e=$('[collect-id][collect-status]'),a=[];if($.each(e,function(t,e){a.push($(e).attr('collect-id'))}),a=JSON.stringify(a),a.length&&$.cookie("dyrs_userinfo")){if('undefined'==typeof collect_type)return!1;var o="";if('case'==collect_type?o="/api/user/getSubjectCollectStatusForUser.php":'photo'==collect_type&&(o="/api/user/getPhotoCollectStatusForUser.php"),!o)return!1;$.ajax({type:'get',url:o,data:{id:a},success:function(t){if(2e3==t.code)for(var e in t.data)1==t.data[e]?($("[collect-id = "+e+"]").addClass('icon-zan1').removeClass("icon-xin"),$("[collect-id ="+e+"]").attr("collect-status","yes")):($("[collect-id = "+e+"]").addClass('icon-xin').removeClass("icon-zan1"),$("[collect-id ="+e+"]").attr("collect-status","no"))}})}},setCollect:function(t,e,a){if($.cookie("dyrs_userinfo")){if('case'==e)var o="no"==$(a).attr("collect-status")?'user_add_subject':'user_delete_subject',n="/api/user/subject.php";else var o="no"==$(a).attr("collect-status")?'user_add_photo':'user_delete_photo',n="/api/user/collect.php";$.ajax({type:"post",url:n,data:{act:o,id:t,csrfToken:csrfToken},success:function(t){if(2e3==t.code){var e=Number($(a).parent().find(".collect_num").html());'user_add_subject'==o||'user_add_photo'==o?($(a).removeClass("icon-xin").addClass('icon-zan1'),$(a).attr("collect-status","yes"),$(a).parent().find(".collect_num").html(e+1)):($(a).removeClass("icon-zan1").addClass('icon-xin'),$(a).attr("collect-status","no"),e>0&&$(a).parent().find(".collect_num").html(e-1))}}})}else window.location.href="//m.dyrs.com.cn/user/login?backurl="+window.location.href},setAdvertisement:function(t){$.ajax({type:"get",url:"/api/ad/ad.php",data:{page_id:t},success:function(t){if(2e3==t.code)for(var e in t.data)$("div[data-posid="+e+"]").html('<a href="'+t.data[e].clickurl+'" target="'+t.data[e].opentype+'"><img src="'+t.data[e].url_format+'" style="width:100%"></a>')}})}},t.Page=function(t){for(var a in t)e.prototype[a]=t[a];var o=new e;if(o.init(),'onLoad'in o&&(window.onload=function(){o.onLoad()}),'onReady'in o&&$(document).ready(function(){o.onReady()}),'onResize'in o){var n=null;$(window).on('resize',function(){n&&clearTimeout(n),n=setTimeout(function(){o.onResize()},120)})}return'onScroll'in o&&$(window).on('scroll',function(){o.onScroll()}),o}}(window),function(t,e,a,o){var n=t(e);t.fn.lazyload=function(o){function i(){var e=0;r.each(function(){var a=t(this);l.skip_invisible&&!a.is(':visible')||t.abovethetop(this,l)||t.leftofbegin(this,l)||(t.belowthefold(this,l)||t.rightoffold(this,l)?(++e,l.failure_limit):(a.trigger('appear'),e=0))})}var s,r=this,l={threshold:0,failure_limit:0,event:'scroll',effect:'show',container:e,data_attribute:'original',skip_invisible:!0,appear:null,load:null};return o&&(void 0!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),void 0!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),t.extend(l,o)),s=void 0===l.container||l.container===e?n:t(l.container),0===l.event.indexOf('scroll')&&s.bind(l.event,function(t){return i()}),this.each(function(){var e=this,a=t(e);e.loaded=!1,a.one('appear',function(){if(!this.loaded){if(l.appear){var o=r.length;l.appear.call(e,o,l)}t('<img />').bind('load',function(){a.hide().attr('src',a.data(l.data_attribute))[l.effect](l.effect_speed),e.loaded=!0;var o=t.grep(r,function(t){return!t.loaded});if(r=t(o),l.load){r.length;l.load.call(e,this.width,this.height)}}).attr('src',a.data(l.data_attribute))}}),0!==l.event.indexOf('scroll')&&a.bind(l.event,function(t){e.loaded||a.trigger('appear')})}),n.bind('resize',function(t){i()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&n.bind('pageshow',function(e){e.originalEvent&&e.originalEvent.persisted&&r.each(function(){t(this).trigger('appear')})}),t(a).ready(function(){i()}),this},t.belowthefold=function(a,o){return(void 0===o.container||o.container===e?n.height()+n.scrollTop():t(o.container).offset().top+t(o.container).height())<=t(a).offset().top-o.threshold},t.rightoffold=function(a,o){return(void 0===o.container||o.container===e?n.width()+n.scrollLeft():t(o.container).offset().left+t(o.container).width())<=t(a).offset().left-o.threshold},t.abovethetop=function(a,o){return(void 0===o.container||o.container===e?n.scrollTop():t(o.container).offset().top)>=t(a).offset().top+o.threshold+t(a).height()},t.leftofbegin=function(a,o){return(void 0===o.container||o.container===e?n.scrollLeft():t(o.container).offset().left)>=t(a).offset().left+o.threshold+t(a).width()},t.inviewport=function(e,a){return!(t.rightoffold(e,a)||t.leftofbegin(e,a)||t.belowthefold(e,a)||t.abovethetop(e,a))},t.extend(t.expr[':'],{'below-the-fold':function(e){return t.belowthefold(e,{threshold:0})},'above-the-top':function(e){return!t.belowthefold(e,{threshold:0})},'right-of-screen':function(e){return t.rightoffold(e,{threshold:0})},'left-of-screen':function(e){return!t.rightoffold(e,{threshold:0})},'in-viewport':function(e){return t.inviewport(e,{threshold:0})},'above-the-fold':function(e){return!t.belowthefold(e,{threshold:0})},'right-of-fold':function(e){return t.rightoffold(e,{threshold:0})},'left-of-fold':function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document);var var_lazy={threshold:400,load:function(t,e){var a,o,n,i,s=$(this);s.is('img')||(s.css('background-image','url('+$(this).attr('data-original')+')'),s.removeAttr('src')),s.addClass('load-over').parents('.lazy').addClass('load-over'),s.hasClass('auto')?(a=s.parents('.lazy').width(),o=s.parents('.lazy').height(),n=t,i=e,a/o<n/i?(s.css({width:'auto',height:'100%'}),n=o*t/e,s.css({left:-(n-a)/2/a*100+'%',top:0})):(s.css({width:'100%',height:'auto'}),i=a*e/t,s.css({top:-(i-o)/2/o*100+'%',left:0}))):s.hasClass('auto_height')?s.css({height:'auto',width:'auto'}):s.hasClass('height_middle')?(o=s.parents('.lazy').height(),a=s.parents('.lazy').width(),i=a*e/t,s.css({top:-(i-o)/2/o*100+'%',left:0})):s.hasClass('auto_inner')&&(a=s.parents('.lazy').width(),o=s.parents('.lazy').height(),n=t,i=e,a/o>n/i?(s.css({width:'auto',height:'100%'}),n=o*t/e,s.css({left:-(n-a)/2/a*100+'%',top:0})):(s.css({width:'100%',height:'auto'}),i=a*e/t,s.css({top:-(i-o)/2/o*100+'%',left:0})))}};setTimeout(function(){$('.lazy_img').lazyload(var_lazy)},300),function(t,e,a,o){function n(t,e){this.element=t,this.options={pageNo:e.pageNo||1,totalPage:e.totalPage,totalSize:e.totalSize,callback:e.callback},this.init()}n.prototype={constructor:n,init:function(){this.creatHtml(),this.bindEvent()},creatHtml:function(){var t=this,e='',a=t.options.pageNo,o=t.options.totalPage;t.options.totalSize;if(o>6)if(a<5){for(var n=1;n<6;n++)e+=a==n?'<a class=\'current\'>'+n+'</a>':'<a>'+n+'</a>';e+='. . .',e+='<a>'+o+'</a>'}else if(a<o-3){for(var n=a-2;n<a+3;n++)e+=a==n?'<a class=\'current\'>'+n+'</a>':'<a>'+n+'</a>';e+='. . .',e+='<a>'+o+'</a>'}else{e+='<a>1</a>',e+='. . .';for(var n=o-4;n<o+1;n++)e+=a==n?'<a class=\'current\'>'+n+'</a>':'<a>'+n+'</a>'}else for(var n=1;n<o+1;n++)e+=a==n?'<a class=\'current\'>'+n+'</a>':'<a>'+n+'</a>';e+='<a id="firstPage">首页</a><span class=\'preNext\'><a id=\'prePage\'>&lt;</a>',e+='<a id=\'nextPage\'>&gt;</a></span>',e+='<a id="lastPage">尾页</a>',t.element.html(e)},bindEvent:function(){var e=this;e.element.off('click','a'),e.element.on('click','a',function(){var a=t(this).html(),o=t(this).attr('id');'prePage'==o?1==e.options.pageNo?e.options.pageNo=1:e.options.pageNo=+e.options.pageNo-1:'nextPage'==o?e.options.pageNo==e.options.totalPage?e.options.pageNo=e.options.totalPage:e.options.pageNo=+e.options.pageNo+1:e.options.pageNo='firstPage'==o?1:'lastPage'==o?e.options.totalPage:+a,e.creatHtml(),e.options.callback&&e.options.callback(e.options.pageNo)})}},t.fn.paging=function(e){return new n(t(this),e)}}(jQuery,window,document);